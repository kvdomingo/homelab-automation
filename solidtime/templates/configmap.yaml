apiVersion: v1
kind: ConfigMap
metadata:
  name: '{{- include "solidtime.fullname" . }}-configmap'
  labels:
    {{- include "solidtime.labels" . | nindent 4 }}
  annotations:
    helm.sh/hook: pre-install,pre-upgrade
    helm.sh/hook-weight: "-5"
    helm.sh/hook-delete-policy: before-hook-creation
data:
  DB_SSLMODE: "require"
  DB_PORT: "5432"
  DB_HOST: "10.10.10.103"
  DB_USERNAME: "solidtime"
  DB_DATABASE: "solidtime"
  APP_NAME: "solidtime"
  VITE_APP_NAME: "solidtime"
  APP_ENV: "production"
  APP_DEBUG: "false"
  APP_URL: "{{ (index .Values.ingress.hosts 0).host }}"
  APP_FORCE_HTTPS: "false"
  TRUSTED_PROXIES: "127.0.0.1/8,10.0.0.0/8,172.16.0.0/12,192.168.0.0/24"
  LOG_CHANNEL: "stderr"
  LOG_LEVEL: "info"
  GOTENBERG_URL: 'http://{{ include "solidtime.fullname" . }}-gotenberg:3000'
  FILESYSTEM_DISK: "local"
  PUBLIC_FILESYSTEM_DISK: "public"
  QUEUE_CONNECTION: "database"
